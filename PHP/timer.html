<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <title>Power bar</title>
  <meta charset="utf-8" />
  <meta name="Author" content="Jason Fiduk" />
  <meta name="generator" content="emacs" />
 <script type="text/javascript" src="powerbar.js"> </script>
 <script type="text/javascript"
          src="http://code.jquery.com/jquery-1.9.0.min.js"> </script>
</head>

<body>
<!-- start button will start the power bar and set the size of the bar dependin\
g on th energy.  This size set can probably be done earlier when we have clicka\
ble marbles !-->
<input type="button" id="Quit" value="Quit" onclick="$(Quit).hide();runScript();">
<div style="position:fixed; border-bottom:3px solid; width:15px;  top:30%;"id="name1">:00</div>
<script>
function runScript(){
var currentTime = new Date().getTime();
var blink;
var seconds;
var minutes;
blink = setInterval(function(){
 seconds = parseInt(((new Date().getTime()-currentTime)/1000));
if(seconds>59)
{
 minutes = seconds/60;
$('#name1').text(pad(parseInt(minutes),2)+":"+pad(parseInt(seconds%60),2));
}
else{
$('#name1').text(":"+pad(parseInt(((new Date().getTime()-currentTime)/1000)),2));
}

},1000);//ends the blink state
}

function pad (str, max) {
  str = str.toString();
  return str.length < max ? pad("0" + str, max) : str;
}
</script>
<script>
var timer = setInterval( function(){
 if(document.hidden) {
 window.location.assign("https://www.yahoo.com");
} else {
 console.log("NOT HIDDEN");
}
},1000);
/* var hidden, visibilityChange;
if (typeof document.hidden !== "undefined") { // Opera 12.10 and Firefox 18 and later support
  hidden = "hidden";
  visibilityChange = "visibilitychange";
} else if (typeof document.mozHidden !== "undefined") {
  hidden = "mozHidden";
  visibilityChange = "mozvisibilitychange";
} else if (typeof document.msHidden !== "undefined") {
  hidden = "msHidden";
  visibilityChange = "msvisibilitychange";
} else if (typeof document.webkitHidden !== "undefined") {
  hidden = "webkitHidden";
  visibilityChange = "webkitvisibilitychange";
}

var videoElement = document.getElementById("videoElement");

// If the page is hidden, pause the video;
// if the page is shown, play the video
function handleVisibilityChange() {
  if (document[hidden]) {
    console.log("HIDDEN");
  } else {
    console.log("BACK");
  }
}

// Warn if the browser doesn't support addEventListener or the Page Visibility API
if (typeof document.addEventListener === "undefined" ||
  typeof hidden === "undefined") {
  alert("This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API.");
} else {
  // Handle page visibility change
  document.addEventListener(visibilityChange, handleVisibilityChange, false);
*/
</script>
<script>
var idle = 0;
$(document).ready(function(){
setInterval(increment,1000);
$(document).mousemove(function(e){ idle=0;});
$(document).keypress(function(e){ idle=0;});
function increment(){
console.log("here");
if(idle >5)
{
window.blur();
window.location.assign("http://www.nfl.com");
}
idle++;
}
});

</script>
</body>
</html>
